(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-send-send"],{2379:function(t,e,i){"use strict";i.r(e);var n=i("cd44"),a=i("b676");for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);i("bafb");var u,o=i("f0c5"),l=Object(o["a"])(a["default"],n["b"],n["c"],!1,null,"742865c6",null,!1,n["a"],u);e["default"]=l.exports},"31c2":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".col1[data-v-742865c6]{padding:%?25?% %?35?% 0 %?35?%;font-size:%?32?%}.col2[data-v-742865c6]{padding:%?15?% %?35?%;background-color:#f8f8f8;color:#6d6d72;border-bottom:%?1?% solid #eee}.picker[data-v-742865c6]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.hidden[data-v-742865c6]{display:none}.uni-list-cell[data-v-742865c6]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.btnBox[data-v-742865c6]{text-align:center;padding-top:%?38?%}",""]),t.exports=e},"6cb5":function(t,e,i){var n=i("31c2");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("10459a5c",n,!0,{sourceMap:!1,shadowMode:!1})},b676:function(t,e,i){"use strict";i.r(e);var n=i("eb34"),a=i.n(n);for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);e["default"]=a.a},bafb:function(t,e,i){"use strict";var n=i("6cb5"),a=i.n(n);a.a},cd44:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"col1"},[t._v("请选择公司")]),i("v-uni-view",{staticClass:"col2"},[i("v-uni-input",{staticClass:"hidden",model:{value:t.companyId,callback:function(e){t.companyId=e},expression:"companyId"}}),i("v-uni-input",{staticClass:"hidden",model:{value:t.deptId,callback:function(e){t.deptId=e},expression:"deptId"}}),i("v-uni-picker",{staticClass:"picker",attrs:{mode:"multiSelector",value:t.multiIndex,range:t.multiArray},on:{columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.multiArray[0][t.multiIndex[0]])+"，"+t._s(t.multiArray[1][t.multiIndex[1]])+"，"+t._s(t.multiArray[2][t.multiIndex[2]]))])],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkboxChange.apply(void 0,arguments)}}},t._l(t.userList,(function(e,n){return i("v-uni-label",{key:e.userId,staticClass:"uni-list-cell uni-list-cell-pd"},[i("v-uni-view",[i("v-uni-checkbox",{attrs:{value:e.userId+"",checked:e.checked}})],1),i("v-uni-view",[t._v(t._s(e.userName))])],1)})),1)],1),i("v-uni-view",{staticClass:"btnBox"},[i("v-uni-button",{staticClass:"mini-btn",attrs:{type:"primary",size:"mini",loading:t.loading1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit()}}},[t._v("抄送")])],1)],1)},s=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return n}))},eb34:function(t,e,i){"use strict";i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{id:"",baseUrl:"",userList:[],companyId:"",deptId:"",company:[],multiArray:[["百川"],[],[]],multiArrayId:[["100"],[],[]],multiIndex:[0,0,0],loading1:!1}},onLoad:function(t){this.id=t.id||"",this.baseUrl=t.url||""},onReady:function(){var t=this;this.urlRequestGet("system/dept/list?parentId=100","text/html;charset=UTF-8",(function(e){if(e.statusCode="200"){console.log(e.data),t.company=e.data;var i=[],n=[];for(var a in t.company)i.push(t.company[a].deptName),n.push(t.company[a].deptId);t.multiArray[1]=i,t.multiArrayId[1]=n,t.showDeptDetail(0)}}))},methods:{checkboxChange:function(t){for(var e=this.userList,i=t.detail.value,n=0,a=e.length;n<a;++n){var s=e[n];i[0]==s.userId?this.$set(s,"checked",!0):this.$set(s,"checked",!1)}},bindMultiPickerColumnChange:function(t){var e=this;this.multiIndex[t.detail.column]=t.detail.value,1==t.detail.column&&this.showDeptDetail(t.detail.value),2==t.detail.column&&(this.deptId=e.multiArrayId[2][t.detail.value],e.showUserList(this.deptId)),this.$forceUpdate()},showDeptDetail:function(t){var e=this;this.urlRequestGet("system/dept/list?parentId="+this.company[t].deptId,"text/html;charset=UTF-8",(function(i){if(i.statusCode="200"){var n=[],a=[];for(var s in console.log(i.data),i.data)n.push(i.data[s].deptName),a.push(i.data[s].deptId);e.multiArray[2]=n,e.multiArrayId[2]=a,e.multiArray.splice(0,0),e.multiArrayId.splice(0,0),e.companyId=e.multiArrayId[1][e.multiIndex[1]],e.deptId=e.multiArrayId[2][0],e.multiIndex[1]=t,console.log(e.deptId),e.showUserList(e.deptId)}}))},showUserList:function(t){var e=this;this.urlRequestPost("system/user/phoneList",{deptId:t},null,(function(t){for(var i in console.log(t),e.userList=t.data,e.userList)e.userList[i].checked=!1}))},submit:function(){var t=[];for(var e in this.userList)1==this.userList[e].checked&&t.push(this.userList[e]);console.log(this.baseUrl),console.log(this.id),this.urlRequestPost(this.baseUrl+"/copy",{id:this.id,copyUserList:t},"application/json;charset=UTF-8",(function(t){uni.showToast({title:t.data.msg,icon:"none"}),"0"==t.data.code&&uni.reLaunch({url:"../start/start"})}))}}};e.default=n}}]);