(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-main-main"],{"0377":function(t,e,i){var n=i("b80c");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("32b16c58",n,!0,{sourceMap:!1,shadowMode:!1})},"037e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t/* 抽屉宽度\n */.uni-drawer[data-v-849db61c]{\ndisplay:block;\nposition:fixed;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:999}.uni-drawer__content[data-v-849db61c]{\ndisplay:block;\nposition:absolute;top:0;width:220px;bottom:0;background-color:#fff;-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.uni-drawer--left[data-v-849db61c]{left:0;-webkit-transform:translateX(-220px);transform:translateX(-220px)}.uni-drawer--right[data-v-849db61c]{right:0;-webkit-transform:translateX(220px);transform:translateX(220px)}.uni-drawer__content--visible[data-v-849db61c]{-webkit-transform:translateX(0);transform:translateX(0)}.uni-drawer__mask[data-v-849db61c]{\ndisplay:block;\nopacity:0;position:absolute;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,.4);-webkit-transition:opacity .3s;transition:opacity .3s}.uni-drawer__mask--visible[data-v-849db61c]{\ndisplay:block;\nopacity:1}",""]),t.exports=e},2050:function(t,e,i){"use strict";i.r(e);var n=i("be51"),a=i("ac54");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("938c");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"849db61c",null,!1,n["a"],s);e["default"]=l.exports},"37a8":function(t,e,i){"use strict";i.r(e);var n=i("b827"),a=i("3f7a");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("98c2");var s,r=i("f0c5"),l=Object(r["a"])(a["default"],n["b"],n["c"],!1,null,"a39868fa",null,!1,n["a"],s);e["default"]=l.exports},"3f7a":function(t,e,i){"use strict";i.r(e);var n=i("a1b2"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"938c":function(t,e,i){"use strict";var n=i("c0dc"),a=i.n(n);a.a},"98c2":function(t,e,i){"use strict";var n=i("0377"),a=i.n(n);a.a},a1b2:function(t,e,i){"use strict";var n=i("ee27");i("99af"),i("4160"),i("c975"),i("a434"),i("d3b7"),i("25f0"),i("159b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("f3f3")),o=n(i("2050")),s=n(i("a6d2")),r=n(i("1b03")),l=n(i("1581")),c=i("2f62"),d=100,u=3,f={components:{uniIcons:l.default,uniDrawer:o.default,uniList:s.default,uniListItem:r.default},data:function(){return{user:{},newsList:[],cacheTab:[],tabIndex:0,tabBars:[{name:"催办",id:"c001",url:"/system/sysUrge/phoneList",detailUrl:"./detail/sysUrge",pageNum:1},{name:"待审批",id:"c002",url:"/oa/task/phoneList",detailUrl:"./detail/task",pageNum:1},{name:"任务",id:"c003",url:"/oa/task/phoneLastTaskList",detailUrl:"./detail/lastTask",pageNum:1},{name:"抄送我",id:"c004",url:"/system/sysCopy/phoneList",detailUrl:"./detail/sysCopy",pageNum:1}],scrollInto:"",showTips:!1,navigateFlag:!1,pulling:!1,refreshIcon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAB5QTFRFcHBw3Nzct7e39vb2ycnJioqK7e3tpqam29vb////D8oK7wAAAAp0Uk5T////////////ALLMLM8AAABxSURBVHja7JVBDoAgDASrjqj//7CJBi90iyYeOHTPMwmFZrHjYyyFYYUy1bwUZqtJIYVxhf1a6u0R7iUvWsCcrEtwJHp8MwMdvh2amHduiZD3rpWId9+BgPd7Cc2LIkPyqvlQvKxKBJ//Qwq/CacAAwDUv0a0YuKhzgAAAABJRU5ErkJggg==",showRight:!1,showLeft:!1,dictProType:[]}},computed:(0,c.mapState)(["name","deptName","company","hasLogin"]),onReady:function(){var t=this;setTimeout((function(){t.tabBars.forEach((function(e){t.newsList.push({data:[],isLoading:!1,refreshText:"",loadingText:"加载更多...",noneText:"加载中.....",total:0,pageSize:10})})),t.getList(0)}),350);var e=this;this.dictValue("oa_examine_type").then((function(t){e.dictProType=t}))},methods:(0,a.default)({},(0,c.mapMutations)(["logout"]),{getList:function(t){this.serverList(this.tabBars[t].url,t)},serverList:function(t,e){var i=this.newsList[e],n=this;this.urlRequestPost(t,{pageSize:this.newsList[e].pageSize,pageNum:this.tabBars[e].pageNum},null,(function(t){if(t.data.rows&&0!=t.data.rows.length){n.newsList[n.tabIndex].noneText="加载中.....";for(var a=[],o=0;o<t.data.rows.length;o++){var s=t.data.rows[o];s.idx=n.newGuid(),a.push(s)}n.tabBars[e].pageNum<=1?i.data=a:i.data=i.data.concat(a),n.newsList[e].total=t.data.total}else n.newsList[n.tabIndex].noneText="暂无数据"}))},goDetail:function(t){var e=this,i=this;this.navigateFlag||(this.navigateFlag=!0,"0"==i.tabIndex?uni.navigateTo({url:"../main/details/details?id="+t.id+"&&index="+i.tabIndex}):"1"==i.tabIndex||"2"==i.tabIndex?uni.navigateTo({url:"../main/details/details?type="+t.type+"&&id="+t.id+"&&taskId="+t.taskId+"&&index="+i.tabIndex}):uni.navigateTo({url:"../main/details/details?id="+t.id+"&&index="+i.tabIndex}),setTimeout((function(){e.navigateFlag=!1}),200))},close:function(t,e){var i=this;uni.showModal({content:"是否删除本条信息？",success:function(n){n.confirm&&i.newsList[t].data.splice(e,1)}})},loadMore:function(t){var e=this;setTimeout((function(){var t=Math.ceil(e.newsList[e.tabIndex].total/e.newsList[e.tabIndex].pageSize);e.tabBars[e.tabIndex].pageNum<t?(e.tabBars[e.tabIndex].pageNum++,e.getList(e.tabIndex)):e.newsList[e.tabIndex].loadingText="没有数据了！"}),500)},ontabtap:function(t){var e=t.target.dataset.current||t.currentTarget.dataset.current;this.switchTab(e)},ontabchange:function(t){var e=t.target.current||t.detail.current;this.switchTab(e)},switchTab:function(t){if(0===this.newsList[t].data.length&&this.getList(t),this.tabIndex!==t){if(this.newsList[this.tabIndex].data.length>d){var e=this.cacheTab.indexOf(this.tabIndex);e<0&&this.cacheTab.push(this.tabIndex)}if(this.tabIndex=t,this.scrollInto=this.tabBars[t].id,this.cacheTab.length>u){var i=this.cacheTab[0];this.clearTabData(i),this.cacheTab.splice(0,1),console.log("remove cache index:: "+i)}}},clearTabData:function(t){this.newsList[t].data.length=0,this.newsList[t].loadingText="加载更多..."},refreshData:function(){},onrefresh:function(t){var e=this,i=this.newsList[this.tabIndex];i.refreshFlag&&(i.refreshing=!0,i.refreshText="正在刷新...",setTimeout((function(){e.refreshData(),e.pulling=!0,i.refreshing=!1,i.refreshFlag=!1,i.refreshText="已刷新",setTimeout((function(){e.pulling=!1}),500)}),2e3))},onpullingdown:function(t){var e=this.newsList[this.tabIndex];e.refreshing||this.pulling||(Math.abs(t.pullingDistance)>Math.abs(t.viewHeight)?(e.refreshFlag=!0,e.refreshText="释放立即刷新"):(e.refreshFlag=!1,e.refreshText="下拉可以刷新"))},newGuid:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return(t()+t()+"-"+t()+"-4"+t().substr(0,3)+"-"+t()+"-"+t()+t()+t()).toUpperCase()},setStyle:function(t,e,i){var n=getCurrentPages();n[n.length-1]},show:function(t){"left"===t?this.showLeft=!0:this.showRight=!0},hide:function(){console.log("hide"),this.showLeft=!1,this.showRight=!1},closeDrawer:function(t){"left"===t?this.showLeft=!1:this.showRight=!1},confirm:function(){},logOut:function(){this.logout(),this.urlRequestPost("/logout","",null,(function(t){uni.reLaunch({url:"../login/login"})}))},goDetailPage:function(t){var e=this;this.navigateFlag||(this.navigateFlag=!0,"string"===typeof t?uni.navigateTo({url:t}):uni.navigateTo({url:t.url}),setTimeout((function(){e.navigateFlag=!1}),200))},getDictV:function(t,e){var i="";for(var n in t.data)t.data[n].dictValue==e&&(i=t.data[n].dictLabel);return i}}),onNavigationBarButtonTap:function(t){0===t.index&&(this.showRight=!this.showRight,this.show("right")),this.setStyle(t.index,!1)},onBackPress:function(){if(this.showRight||this.showLeft)return this.hide(),!0}};e.default=f},ac54:function(t,e,i){"use strict";i.r(e);var n=i("b893"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},b80c:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"\nuni-page-body[data-v-a39868fa]{width:100%;min-height:100%;display:-webkit-box;display:-webkit-flex;display:flex}\n.uni-common-mt[data-v-a39868fa]{width:100%\n\t\t/* background-color: #09BB07; */}.tabs[data-v-a39868fa]{-webkit-box-flex:1;-webkit-flex:1;flex:1;overflow:hidden;background-color:#fff;\n\nheight:100%;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;background-color:#09bb07}.scroll-h[data-v-a39868fa]{width:100%;height:%?80?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;\nwhite-space:nowrap\n\n        /* flex-wrap: nowrap; */\n        /* border-color: #cccccc;\n    \tborder-bottom-style: solid;\n    \tborder-bottom-width: 1px; */}.line-h[data-v-a39868fa]{height:%?1?%;background-color:#ccc}.uni-tab-item[data-v-a39868fa]{\ndisplay:inline-block;\npadding-left:%?34?%;padding-right:%?34?%}.uni-tab-item-title[data-v-a39868fa]{color:#555;font-size:%?30?%;height:%?80?%;line-height:%?80?%;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;\nwhite-space:nowrap\n}.uni-tab-item-title-active[data-v-a39868fa]{color:#007aff}.swiper-box[data-v-a39868fa]{\n        /* flex: 1; */\n\t\t/* height: 100%; */height:%?1500?%\n\t\t/* background-color: #007AFF; */}.swiper-item[data-v-a39868fa]{\n        /* flex: 1; */height:%?1500?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row\n\t\t/* background-color: #DD524D; */}.scroll-v[data-v-a39868fa]{\n        /* flex: 1; */\n\n        /* flex-direction: column; */\nheight:100%\n\t\t/* height: 1500upx; */\n\t\t/* background-color: #000000; */}.uni-list-cell[data-v-a39868fa]{height:%?150?%}.list-view[data-v-a39868fa]{position:relative;-webkit-overflow-scrolling:touch;width:100%;height:100%;max-height:inherit}.update-tips[data-v-a39868fa]{position:absolute;left:0;top:41px;right:0;padding-top:5px;padding-bottom:5px;background-color:#fddd9b;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;text-align:center}.update-tips-text[data-v-a39868fa]{font-size:14px;color:#fff}.refresh[data-v-a39868fa]{width:%?750?%;height:64px;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-view[data-v-a39868fa]{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.refresh-icon[data-v-a39868fa]{width:30px;height:30px;-webkit-transition-duration:.5s;transition-duration:.5s;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform;-webkit-transform:rotate(0deg);transform:rotate(0deg);-webkit-transform-origin:15px 15px;transform-origin:15px 15px}.refresh-icon-active[data-v-a39868fa]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.loading-icon[data-v-a39868fa]{width:20px;height:20px;margin-right:5px;color:#999}.loading-text[data-v-a39868fa]{margin-left:2px;font-size:16px;color:#999}.loading-more[data-v-a39868fa]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:10px;text-align:center}.loading-more-text[data-v-a39868fa]{font-size:%?28?%;color:#999}.input[data-v-a39868fa]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding:0 5px;height:24px;line-height:24px;font-size:%?28?%;background-color:initial}.close[data-v-a39868fa]{padding:%?30?%}.uni-media-list-body[data-v-a39868fa]{height:auto;-webkit-justify-content:space-around;justify-content:space-around}.uni-media-list-text-top[data-v-a39868fa]{height:%?74?%;font-size:%?28?%;overflow:hidden}.uni-media-list-text-bottom[data-v-a39868fa]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}",""]),t.exports=e},b827:function(t,e,i){"use strict";var n={uniDrawer:i("2050").default,uniList:i("a6d2").default,uniListItem:i("1b03").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-common-mt"},[i("v-uni-view",{staticClass:"uni-flex uni-row "},t._l(t.tabBars,(function(e,n){return i("v-uni-view",{key:e.id,staticClass:"uni-tab-item",staticStyle:{"-webkit-flex":"1",flex:"1","text-align":"center"},attrs:{id:e.id,"data-current":n},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.ontabtap.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"uni-tab-item-title",class:t.tabIndex==n?"uni-tab-item-title-active":""},[t._v(t._s(e.name))])],1)})),1),i("v-uni-view",{staticClass:"line-h"}),i("v-uni-swiper",{staticClass:"swiper-box",attrs:{current:t.tabIndex,duration:300},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.ontabchange.apply(void 0,arguments)}}},t._l(t.newsList,(function(e,n){return i("v-uni-swiper-item",{key:n,staticClass:"swiper-item"},[i("v-uni-scroll-view",{staticClass:"scroll-v list",attrs:{enableBackToTop:"true","scroll-y":!0},on:{scrolltolower:function(e){arguments[0]=e=t.$handleEvent(e),t.loadMore(n)}}},[e.isLoading||0==e.data.length?i("v-uni-view",{staticClass:"loading-more"},[i("v-uni-text",{staticClass:"loading-more-text"},[t._v(t._s(e.noneText))])],1):t._e(),t._l(e.data,(function(e,a){return i("v-uni-view",{key:e.idx,staticClass:"uni-list-cell ",on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.close(n,a)}}},[i("v-uni-view",{staticClass:"uni-media-list "},[i("v-uni-view",{staticClass:"uni-media-list-body "},[i("v-uni-view",{staticClass:"uni-media-list-text-top",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.goDetail(e)}}},0==n||3==n?[t._v(t._s(e.title))]:[t._v(t._s(t.getDictV(t.dictProType,e.type)))]),i("v-uni-view",{staticClass:"uni-media-list-text-bottom "},[i("v-uni-text",[t._v("发起人："+t._s(e.userName))]),i("v-uni-text",[t._v(t._s(e.createTime))])],1)],1)],1)],1)})),e.isLoading||e.data.length>9?i("v-uni-view",{staticClass:"loading-more"},[i("v-uni-text",{staticClass:"loading-more-text"},[t._v(t._s(e.loadingText))])],1):t._e()],2)],1)})),1),i("uni-drawer",{attrs:{visible:t.showRight,mode:"right"},on:{close:function(e){arguments[0]=e=t.$handleEvent(e),t.closeDrawer("right")}}},[i("uni-list",[i("uni-list-item",{attrs:{"show-arrow":!1,title:t.name,note:t.deptName}}),i("uni-list-item",{attrs:{title:"个人中心"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goDetailPage("../user/user")}}}),i("uni-list-item",{attrs:{title:"退出登陆"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.logOut()}}})],1),i("v-uni-view",{staticClass:"close"},[i("v-uni-view",{staticClass:"word-btn",attrs:{"hover-class":"word-btn--hover","hover-start-time":20,"hover-stay-time":70},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.hide.apply(void 0,arguments)}}},[i("v-uni-text",{staticClass:"word-btn-white"},[t._v("关闭")])],1)],1)],1)],1)},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},b893:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"UniDrawer",props:{visible:{type:Boolean,default:!1},mode:{type:String,default:""},mask:{type:Boolean,default:!0}},data:function(){return{visibleSync:!1,showDrawer:!1,rightMode:!1,watchTimer:null}},watch:{visible:function(t){t?this.open():this.close()}},created:function(){var t=this;this.visibleSync=this.visible,setTimeout((function(){t.showDrawer=t.visible}),100),this.rightMode="right"===this.mode},methods:{close:function(){this._change("showDrawer","visibleSync",!1)},open:function(){this._change("visibleSync","showDrawer",!0)},_change:function(t,e,i){var n=this;this[t]=i,this.watchTimer&&clearTimeout(this.watchTimer),this.watchTimer=setTimeout((function(){n[e]=i,n.$emit(i?"open":"close")}),i?50:300)}}};e.default=n},be51:function(t,e,i){"use strict";var n,a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.visibleSync?i("v-uni-view",{staticClass:"uni-drawer",class:{"uni-drawer--visible":t.showDrawer}},[i("v-uni-view",{staticClass:"uni-drawer__mask",class:{"uni-drawer__mask--visible":t.showDrawer&&t.mask},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close.apply(void 0,arguments)}}}),i("v-uni-view",{staticClass:"uni-drawer__content",class:{"uni-drawer--right":t.rightMode,"uni-drawer--left":!t.rightMode,"uni-drawer__content--visible":t.showDrawer}},[t._t("default")],2)],1):t._e()},o=[];i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}))},c0dc:function(t,e,i){var n=i("037e");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("11c5a0e0",n,!0,{sourceMap:!1,shadowMode:!1})}}]);