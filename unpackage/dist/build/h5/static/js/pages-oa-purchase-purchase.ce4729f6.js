(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-oa-purchase-purchase"],{"09fe":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-popup[data-v-33b3e770]{position:fixed;\ntop:var(--window-top);\n\n\nbottom:0;left:0;right:0;overflow:hidden}.uni-popup__mask[data-v-33b3e770]{position:absolute;top:0;bottom:0;left:0;right:0;background-color:rgba(0,0,0,.4);opacity:0}.mask-ani[data-v-33b3e770]{-webkit-transition-property:opacity;transition-property:opacity;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-mask[data-v-33b3e770]{opacity:1}.uni-bottom-mask[data-v-33b3e770]{opacity:1}.uni-center-mask[data-v-33b3e770]{opacity:1}.uni-popup__wrapper[data-v-33b3e770]{\ndisplay:block;\nposition:absolute}.top[data-v-33b3e770]{top:0;left:0;right:0;-webkit-transform:translateY(-500px);transform:translateY(-500px)}.bottom[data-v-33b3e770]{bottom:0;left:0;right:0;-webkit-transform:translateY(500px);transform:translateY(500px)}.center[data-v-33b3e770]{\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\nbottom:0;left:0;right:0;top:0;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-transform:scale(1.2);transform:scale(1.2);opacity:0}.uni-popup__wrapper-box[data-v-33b3e770]{\ndisplay:block;\nposition:relative}.content-ani[data-v-33b3e770]{\n\t\t/* transition: transform 0.3s;\n */-webkit-transition-property:opacity,-webkit-transform;transition-property:opacity,-webkit-transform;transition-property:transform,opacity;transition-property:transform,opacity,-webkit-transform;-webkit-transition-duration:.2s;transition-duration:.2s}.uni-top-content[data-v-33b3e770]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-bottom-content[data-v-33b3e770]{-webkit-transform:translateY(0);transform:translateY(0)}.uni-center-content[data-v-33b3e770]{-webkit-transform:scale(1);transform:scale(1);opacity:1}",""]),t.exports=e},"10d1":function(t,e,i){"use strict";var a,n=i("da84"),r=i("e2cc"),s=i("f183"),o=i("6d61"),u=i("acac"),c=i("861d"),l=i("69f3").enforce,d=i("7f9a"),f=!n.ActiveXObject&&"ActiveXObject"in n,p=Object.isExtensible,v=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},m=t.exports=o("WeakMap",v,u);if(d&&f){a=u.getConstructor(v,"WeakMap",!0),s.REQUIRED=!0;var h=m.prototype,b=h["delete"],g=h.has,w=h.get,y=h.set;r(h,{delete:function(t){if(c(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new a),b.call(this,t)||e.frozen["delete"](t)}return b.call(this,t)},has:function(t){if(c(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new a),g.call(this,t)||e.frozen.has(t)}return g.call(this,t)},get:function(t){if(c(t)&&!p(t)){var e=l(this);return e.frozen||(e.frozen=new a),g.call(this,t)?w.call(this,t):e.frozen.get(t)}return w.call(this,t)},set:function(t,e){if(c(t)&&!p(t)){var i=l(this);i.frozen||(i.frozen=new a),g.call(this,t)?y.call(this,t,e):i.frozen.set(t,e)}else y.call(this,t,e);return this}})}},"13a2":function(t,e,i){"use strict";function a(t,e){for(var i=t%4==0&&t%100!=0&&t%400!=0,a=[31,i?29:28,31,30,31,30,31,31,30,31,30,31],n=[],s=0;s<a[e-1];s++)n.push(r(s+1)+"日");return n}function n(t){var e=[],i=1,a=13,n="月";t>2&&(i=0,3==t&&(a=24,n="时"),t>3&&(a=60,4==t&&(n="分"),5==t&&(n="秒")));for(var s=i;s<a;s++)e.push(r(s)+n);return e}function r(t){return t>9?t:"0"+t}function s(t,e){if("date"!=t&&"dateTime"!=t&&"time"!=t)throw Error("mode无"+t+"该选项配置");if("date"==t&&10!=e.length||"time"==t&&8!=e.length||"dateTime"==t&&19!=e.length)throw Error("'showValue'有误，请根据当前mode 正确设置格式")}function o(t,e){var i=r(parseInt(t[0])),a=r(parseInt(t[1])),n=r(parseInt(t[2])),s=r(parseInt(t[3])),o=r(parseInt(t[4])),u=r(parseInt(t[5]));return"date"==e?i+"-"+a+"-"+n:"dateTime"==e?i+"-"+a+"-"+n+" "+s+":"+o+":"+u:i+":"+a+":"+n}function u(t){var e=new Date;switch(t){case"dateTime":return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+" "+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds());case"time":return r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds());default:return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())}}i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.getDayArr=a,e.getArr=n,e.checkShowValue=s,e.getDateTimeValue=o,e.getLocalTime=u},"188a":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-input[data-v-2d19e7a9],.title[data-v-2d19e7a9]{padding:7px 12px;background:#f7f7f7}.title[data-v-2d19e7a9]{font-weight:700}.picker[data-v-2d19e7a9]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.hidden[data-v-2d19e7a9]{display:none}.button-sp-area[data-v-2d19e7a9]{margin:30px auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.mini-btn[data-v-2d19e7a9]{margin-right:%?10?%;margin:0 %?5?%}.cui-btn-1[data-v-2d19e7a9]{background-color:#0a98d5;color:#fff}.cui-btn-2[data-v-2d19e7a9]{background-color:#fa0;color:#fff}.textTile[data-v-2d19e7a9]{\r\n\t\t/*borde r-left:3px solid #007AFF;\r\n\t\tline-height: 18px;\r\n\t\tpaddin g-left: 10px;*/margin:20px 0 10px 0;margib-left:20px;color:#999;text-align:center}.red[data-v-2d19e7a9]{color:#f33}.filetitlee[data-v-2d19e7a9]{font-weight:700}.borrow[data-v-2d19e7a9]{margin-bottom:%?20?%}.borrowbtn[data-v-2d19e7a9]{width:90%;margin:0 auto}.borrowBox[data-v-2d19e7a9]{width:90%;margin:0 auto;margin-top:%?15?%}.borrowitem[data-v-2d19e7a9]{border-bottom:%?1?% solid #e2e2e2;padding:%?20?% %?20?%;background:#f8f8f8;position:relative}.btnclose[data-v-2d19e7a9]{position:absolute;right:0;bottom:0}.uni-list-cell[data-v-2d19e7a9]{-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.loading-more[data-v-2d19e7a9]{-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:10px;padding-bottom:10px;text-align:center}.loading-more-text[data-v-2d19e7a9]{font-size:%?28?%;color:#999}\r\n\t/* 提示窗口 */.uni-tip[data-v-2d19e7a9]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;\r\npadding:15px;width:300px;background-color:#fff;border-radius:10px}.uni-tip-title[data-v-2d19e7a9]{text-align:center;font-weight:700;font-size:16px;color:#333}.uni-tip-content[data-v-2d19e7a9]{\r\n\t\t/* padding: 15px;\r\n*/font-size:14px;color:#666;height:%?700?%}.uni-tip-group-button[data-v-2d19e7a9]{\r\ndisplay:-webkit-box;display:-webkit-flex;display:flex;\r\n-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;padding-top:20px;border-top:%?1?% solid #ddd}.uni-tip-button[data-v-2d19e7a9]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:14px;color:#3b4144}",""]),t.exports=e},"2d19":function(t,e,i){"use strict";i.r(e);var a=i("d9d5"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"2eab":function(t,e,i){"use strict";var a={uniIcons:i("1581").default,uniPopup:i("d441").default,ePicker:i("d113").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"uni-common-mt"},[i("v-uni-form",["1"==t.edit?i("v-uni-input",{staticClass:"hidden",model:{value:t.formData.id,callback:function(e){t.$set(t.formData,"id",e)},expression:"formData.id"}}):t._e(),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("申请人")]),"0"==t.edit?i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"申请人"},model:{value:t.user.userName,callback:function(e){t.$set(t.user,"userName",e)},expression:"user.userName"}}):t._e(),"1"==t.edit?i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"申请人"},model:{value:t.formData.userName,callback:function(e){t.$set(t.formData,"userName",e)},expression:"formData.userName"}}):t._e()],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("申请公司")]),i("v-uni-input",{staticClass:"hidden",attrs:{name:"companyId"},model:{value:t.formData.companyId,callback:function(e){t.$set(t.formData,"companyId",e)},expression:"formData.companyId"}}),i("v-uni-input",{staticClass:"hidden",attrs:{name:"deptId"},model:{value:t.formData.deptId,callback:function(e){t.$set(t.formData,"deptId",e)},expression:"formData.deptId"}}),i("v-uni-picker",{staticClass:"picker",attrs:{mode:"multiSelector",value:t.multiIndex,range:t.multiArray},on:{columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.bindMultiPickerColumnChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s(t.multiArray[0][t.multiIndex[0]])+"，"+t._s(t.multiArray[1][t.multiIndex[1]])+"，"+t._s(t.multiArray[2][t.multiIndex[2]]))])],1)],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("标题")]),i("v-uni-input",{staticClass:"uni-input",attrs:{name:"title",placeholder:"标题"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[i("span",{staticClass:"red"},[t._v("*")]),t._v("申购事由")]),i("v-uni-input",{staticClass:"uni-input",attrs:{name:"reason",placeholder:"申购事由"},model:{value:t.formData.reason,callback:function(e){t.$set(t.formData,"reason",e)},expression:"formData.reason"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[i("span",{staticClass:"red"},[t._v("*")]),t._v("备注")]),i("v-uni-input",{staticClass:"uni-input",attrs:{name:"remark",placeholder:"备注"},model:{value:t.formData.remark,callback:function(e){t.$set(t.formData,"remark",e)},expression:"formData.remark"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("申请类别")]),i("v-uni-input",{staticClass:"hidden",attrs:{name:"type",placeholder:"申请类别"},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}}),i("v-uni-picker",{staticClass:"picker",attrs:{value:t.index,range:t.purchaseType,"range-key":"dictLabel"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input"},[t._v(t._s((t.purchaseType[t.index]?t.purchaseType[t.index]:{}).dictLabel))])],1)],1),i("v-uni-view",{staticClass:"borrow"},[i("v-uni-button",{staticClass:"mini-btn borrowbtn",attrs:{type:"info"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.togglePopup("center","detail")}}},[t._v("物资明细")]),0!=t.reimDetail.length?i("v-uni-view",{staticClass:"borrowBox"},t._l(t.reimDetail,(function(e,a){return i("v-uni-view",{key:a,staticClass:"borrowitem"},[i("v-uni-view",[t._v("物资名称："+t._s(e.goodsName))]),i("v-uni-view",[t._v("数量："+t._s(e.num)+" 单位："+t._s(e.unit)+" 单价："+t._s(e.price)+" 规格型号："+t._s(e.brand))]),i("v-uni-view",[t._v("使用时间："+t._s(e.useTime))]),i("v-uni-view",[t._v("备注："+t._s(e.remark))]),i("uni-icons",{staticClass:"btnclose",attrs:{type:"close",color:"#cccccc",size:"40"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.dele(a)}}})],1)})),1):t._e()],1),i("v-uni-view",{staticClass:"button-sp-area"},["99"==t.formData.status||""==t.formData.status?i("v-uni-button",{staticClass:"mini-btn",attrs:{type:"info",size:"mini",loading:t.loading1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit("0")}}},[t._v("保存草稿")]):t._e(),"99"==t.formData.status||""==t.formData.status?i("v-uni-button",{staticClass:"mini-btn",attrs:{type:"primary",loading:t.loading2,size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit("1")}}},[t._v("提交")]):t._e(),"3"==t.formData.status?i("v-uni-button",{staticClass:"mini-btn",attrs:{type:"primary",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitHandler("2")}}},[t._v("提交")]):t._e(),""!=t.formData.status&&"2"!=t.formData.status&&"16"!=t.formData.status&&"99"!=t.formData.status?i("v-uni-button",{staticClass:"mini-btn cui-btn-2",attrs:{type:"info",loading:t.loading3,size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.urge()}}},[t._v("催办")]):t._e(),"99"!=t.formData.status&&""!=t.formData.status?i("v-uni-button",{staticClass:"mini-btn cui-btn-1",attrs:{type:"info",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.send()}}},[t._v("抄送")]):t._e()],1)],1),"1"==t.edit&&t.procInstId?i("uni-process",{attrs:{baseUrl:t.baseUrl,procInstId:t.procInstId,id:t.id}}):t._e(),i("uni-popup",{attrs:{show:t.showdetail,type:t.type,"mask-click":!1},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-tip"},[i("v-uni-text",{staticClass:"uni-tip-title"},[t._v("物资明细")]),i("v-uni-view",{staticClass:"uni-tip-content uni-tip-content-detail"},[i("v-uni-form",[i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("物资名称")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"物资名称",name:"goodsName"},model:{value:t.details.goodsName,callback:function(e){t.$set(t.details,"goodsName",e)},expression:"details.goodsName"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("数量")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"数量",type:"number",name:"num"},model:{value:t.details.num,callback:function(e){t.$set(t.details,"num",e)},expression:"details.num"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("单位")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"单位",name:"unit"},model:{value:t.details.unit,callback:function(e){t.$set(t.details,"unit",e)},expression:"details.unit"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("单价")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"单价",name:"price",type:"number"},model:{value:t.details.price,callback:function(e){t.$set(t.details,"price",e)},expression:"details.price"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("规格型号")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"规格型号",name:"brand"},model:{value:t.details.brand,callback:function(e){t.$set(t.details,"brand",e)},expression:"details.brand"}})],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("使用时间")]),i("v-uni-input",{staticClass:"hidden",attrs:{name:"useTime"},model:{value:t.details.useTime,callback:function(e){t.$set(t.details,"useTime",e)},expression:"details.useTime"}}),i("e-picker",{staticClass:"uni-input",attrs:{mode:"dateTime",showValue:t.details.useTime?t.details.useTime:t.date},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.changeStart.apply(void 0,arguments)}}},[t._v(t._s(t.details.useTime?t.details.useTime:t.date))])],1),i("v-uni-view",{staticClass:"uni-form-item uni-row"},[i("v-uni-view",{staticClass:"title"},[t._v("备注")]),i("v-uni-input",{staticClass:"uni-input",attrs:{placeholder:"备注",name:"remark"},model:{value:t.details.remark,callback:function(e){t.$set(t.details,"remark",e)},expression:"details.remark"}})],1)],1)],1),i("v-uni-view",{staticClass:"uni-tip-group-button"},[i("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("detail")}}},[t._v("取消")]),i("v-uni-text",{staticClass:"uni-tip-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.cancel("detail","1")}}},[t._v("确定")])],1)],1)],1)],1)},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}))},"3a7c":function(t,e,i){"use strict";i.r(e);var a=i("2eab"),n=i("63dc");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("c84f");var s,o=i("f0c5"),u=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"2d19e7a9",null,!1,a["a"],s);e["default"]=u.exports},"45e0":function(t,e,i){var a=i("188a");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("35d8d28b",a,!0,{sourceMap:!1,shadowMode:!1})},"4a46":function(t,e,i){i("e260"),i("e439"),i("d3b7"),i("3ca3"),i("10d1"),i("ddb0");var a=i("62f5");function n(){if("function"!==typeof WeakMap)return null;var t=new WeakMap;return n=function(){return t},t}function r(t){if(t&&t.__esModule)return t;if(null===t||"object"!==a(t)&&"function"!==typeof t)return{default:t};var e=n();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var o=r?Object.getOwnPropertyDescriptor(t,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=t[s]}return i["default"]=t,e&&e.set(t,i),i}t.exports=r},"53bc":function(t,e,i){"use strict";var a=i("d7ff"),n=i.n(a);n.a},"588d":function(t,e,i){"use strict";i.r(e);var a=i("b471"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"5f81":function(t,e,i){"use strict";var a=i("ee27");i("a434"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("05b7")),r=a(i("1581")),s=a(i("541c")),o=a(i("8947")),u={components:{uniProcess:o.default,uniIcons:r.default},data:function(){return{id:"",edit:"",user:{},formData:{id:"",userName:"",companyId:"",deptId:"",title:"",reason:"",remark:"",type:"",status:""},baseUrl:"oa/oapurchase",addUrl:"oa/oapurchase/add",saveUrl:"oa/oapurchase/saveDraft",flag:!1,purchaseType:[],index:0,date:n.default.getDate("dateTime"),company:[],multiArray:[["百川"],[],[]],multiArrayId:[["100"],[],[]],multiIndex:[0,0,0],loading1:!1,loading2:!1,loading3:!1,procInstId:"",reimDetail:[],details:{reimbursementReason:"",reimbursementType:"",money:null,file:[]},type:"",showdetail:!1}},onLoad:function(t){this.edit=t.edit||"",this.id=t.id||"";var e=this;this.urlRequestPost("/phoneIndexData","",null,(function(t){(t.statusCode="200")&&(e.user=t.data.user,e.$set(e.formData,"companyId",t.data.user.companyId),e.$set(e.formData,"deptId",t.data.user.deptId),e.urlRequestGet("system/dept/list?parentId=100","text/html;charset=UTF-8",(function(t){if(t.statusCode="200"){e.company=t.data;var i=[],a=[],n=0;for(var r in e.company)e.company[r].deptId==e.user.companyId&&(n=r),i.push(e.company[r].deptName),a.push(e.company[r].deptId);e.multiArray[1]=i,e.multiArrayId[1]=a,e.showDeptDetail(n)}})))})),this.dictValue("oa_purchase_type").then((function(t){e.purchaseType=t.data})),"1"==this.edit&&(this.urlRequestGet(this.baseUrl+"/phoneEdit/"+this.id,"text/html;charset=UTF-8",(function(t){console.log(t),n.default.listAssign(e.formData,t.data),e.procInstId=t.data.procInstId})),this.urlRequestPost("oa/oaPurchaseDetail/list",{purchaseId:this.id},null,(function(t){for(var i in console.log(t),t.data.rows)e.reimDetail.push(t.data.rows[i])})))},methods:{submit:function(t){var e=this,i="",a={},n=[{name:"reason",checkType:"notnull",checkRule:"",errorMsg:"事由必填"}];a.oaPurchase=this.formData,a.oaPurchaseDetailList=this.reimDetail;var r=s.default.check(this.formData,n);if(r){switch(t){case"1":i=this.addUrl,this.loading2=!0;break;case"0":i=this.saveUrl,this.loading1=!0;break}this.urlRequestPost(i,a,"application/json;charset=UTF-8",(function(t){e.loading1=!1,e.loading2=!1,uni.showToast({title:t.data.msg,icon:"none"}),"0"==t.data.code&&uni.reLaunch({url:"../../start/start"})}))}else uni.showToast({title:s.default.error,icon:"none"})},send:function(){uni.navigateTo({url:"../../send/send?id="+this.id+"&url="+this.baseUrl})},urge:function(){var t=this;this.loading3=!0,this.urlRequestGet(this.baseUrl+"/urge/"+this.id,null,(function(e){uni.showToast({title:e.data.msg,icon:"none"}),0==e.data.code&&(t.loading3=!1,uni.reLaunch({url:"../../start/start"}))}))},togglePopup:function(t,e){switch(t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=t,this["show"+e]=!0},cancel:function(t,e){this["show"+t]=!1,"1"==e&&this.reimDetail.push(this.details)},change:function(t){t.show||(this.showdetail=!1)},dele:function(t,e){this.reimDetail.splice(t,1)},getDictV:function(t,e){var i="";for(var a in t)t[a].dictValue==e&&(i=t[a].dictLabel);return i},bindPickerChange:function(t){this.index=t.target.value,this.formData.type=t.target.value},changeStart:function(t){this.details.useTime=t,this.showValue=t,this.date=t},bindMultiPickerColumnChange:function(t){this.multiIndex[t.detail.column]=t.detail.value,1==t.detail.column&&this.showDeptDetail(t.detail.value),2==t.detail.column&&(this.formData.applyDeptId=this_.multiArrayId[2][t.detail.value]),this.$forceUpdate()},showDeptDetail:function(t){var e=this;this.urlRequestGet("system/dept/list?parentId="+this.company[t].deptId,"text/html;charset=UTF-8",(function(i){if(200==i.statusCode){var a=[],n=[];for(var r in i.data)a.push(i.data[r].deptName),n.push(i.data[r].deptId);e.multiArray[2]=a,e.multiArrayId[2]=n,e.multiArray.splice(0,0),e.multiArrayId.splice(0,0),e.user.companyId=e.multiArrayId[1][e.multiIndex[1]],e.user.deptId=e.multiArrayId[2][e.multiIndex[2]],e.multiIndex[1]=t}}))},onBackPress:function(){if(this.showdetail)return this.showdetail=!1,!0}}};e.default=u},"62f5":function(t,e,i){function a(e){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?t.exports=a=function(t){return typeof t}:t.exports=a=function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(e)}i("a4d3"),i("e01a"),i("d28b"),i("e260"),i("d3b7"),i("3ca3"),i("ddb0"),t.exports=a},"63dc":function(t,e,i){"use strict";i.r(e);var a=i("5f81"),n=i.n(a);for(var r in a)"default"!==r&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"6d61":function(t,e,i){"use strict";var a=i("23e7"),n=i("da84"),r=i("94ca"),s=i("6eeb"),o=i("f183"),u=i("2266"),c=i("19aa"),l=i("861d"),d=i("d039"),f=i("1c7e"),p=i("d44e"),v=i("7156");t.exports=function(t,e,i){var m=-1!==t.indexOf("Map"),h=-1!==t.indexOf("Weak"),b=m?"set":"add",g=n[t],w=g&&g.prototype,y=g,k={},x=function(t){var e=w[t];s(w,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(h&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return h&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(h&&!l(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(r(t,"function"!=typeof g||!(h||w.forEach&&!d((function(){(new g).entries().next()})))))y=i.getConstructor(e,t,m,b),o.REQUIRED=!0;else if(r(t,!0)){var C=new y,_=C[b](h?{}:-0,1)!=C,D=d((function(){C.has(1)})),I=f((function(t){new g(t)})),$=!h&&d((function(){var t=new g,e=5;while(e--)t[b](e,e);return!t.has(-0)}));I||(y=e((function(e,i){c(e,y,t);var a=v(new g,e,y);return void 0!=i&&u(i,a[b],a,m),a})),y.prototype=w,w.constructor=y),(D||$)&&(x("delete"),x("has"),m&&x("get")),($||_)&&x(b),h&&w.clear&&delete w.clear}return k[t]=y,a({global:!0,forced:y!=g},k),p(y,t),h||i.setStrong(y,t,m),y}},7307:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"e-picker"},[i("v-uni-picker",{attrs:{mode:"multiSelector",range:t.range,value:t.value},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)},columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.columnchange.apply(void 0,arguments)}}},[t._t("default")],2)],1)},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}))},acac:function(t,e,i){"use strict";var a=i("e2cc"),n=i("f183").getWeakData,r=i("825a"),s=i("861d"),o=i("19aa"),u=i("2266"),c=i("b727"),l=i("5135"),d=i("69f3"),f=d.set,p=d.getterFor,v=c.find,m=c.findIndex,h=0,b=function(t){return t.frozen||(t.frozen=new g)},g=function(){this.entries=[]},w=function(t,e){return v(t.entries,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=w(this,t);if(e)return e[1]},has:function(t){return!!w(this,t)},set:function(t,e){var i=w(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=m(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,c){var d=t((function(t,a){o(t,d,e),f(t,{type:e,id:h++,frozen:void 0}),void 0!=a&&u(a,t[c],t,i)})),v=p(e),m=function(t,e,i){var a=v(t),s=n(r(e),!0);return!0===s?b(a).set(e,i):s[a.id]=i,t};return a(d.prototype,{delete:function(t){var e=v(this);if(!s(t))return!1;var i=n(t);return!0===i?b(e)["delete"](t):i&&l(i,e.id)&&delete i[e.id]},has:function(t){var e=v(this);if(!s(t))return!1;var i=n(t);return!0===i?b(e).has(t):i&&l(i,e.id)}}),a(d.prototype,i?{get:function(t){var e=v(this);if(s(t)){var i=n(t);return!0===i?b(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return m(this,t,e)}}:{add:function(t){return m(this,t,!0)}}),d}}},b471:function(t,e,i){"use strict";var a=i("4a46");i("c975"),i("d81d"),i("a9e3"),i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,r=a(i("13a2")),s={name:"EPicker",data:function(){return{range:[],value:[]}},props:{mode:{type:String,default:"date"},showValue:String,startYear:{type:[Number,String],default:1949},endYear:{type:[String,Number],default:(new Date).getFullYear()}},watch:{showValue:function(t){this.init()}},created:function(){this.init()},methods:{init:function(){var t;this.range=[],this.value=[],n=r.getLocalTime(this.mode),this.showValue&&(n=this.showValue),r.checkShowValue(this.mode,n),t="dateTime"==this.mode?6:3;for(var e=0;e<t;e++)this.range.push([]),this.value.push(0),this.setColumns(e)},setColumns:function(t){var e=this.mode;if("time"!=e){var i=n.substring(0,4),a=n.substring(5,7),s=n.substring(8,10);switch(t){case 0:for(var o=+this.startYear,u=+this.endYear,c=o;c<u+1;c++)this.range[t].push(c+"年");this.value[t]=this.range[t].indexOf(i+"年");break;case 1:this.range[t]=r.getArr(1),this.value[t]=this.range[t].indexOf(a+"月");break;case 2:this.range[t]=r.getDayArr(+i,+a),this.value[t]=this.range[t].indexOf(s+"日");break;case 3:var l=n.substring(11,13);this.range[t]=r.getArr(3),this.value[t]=this.range[t].indexOf(l+"时");break;case 4:var d=n.substring(14,16);this.range[t]=r.getArr(4),this.value[t]=this.range[t].indexOf(d+"分");break;case 5:var f=n.substring(17,19);this.range[t]=r.getArr(5),this.value[t]=this.range[t].indexOf(f+"秒");break}}else switch(t){case 0:var p=n.substring(0,2);this.range[t]=r.getArr(3),this.value[t]=this.range[t].indexOf(p+"时");break;case 1:var v=n.substring(3,5);this.range[t]=r.getArr(4),this.value[t]=this.range[t].indexOf(v+"分");break;case 2:var m=n.substring(6,8);this.range[t]=r.getArr(5),this.value[t]=this.range[t].indexOf(m+"秒");break}this.$forceUpdate()},columnchange:function(t){if("time"!=this.mode){var e=t.detail.column,i=t.detail.value;1!=e&&e||(this.value[e]=i);var a=parseInt(this.range[0][this.value[0]]),n=parseInt(this.range[1][this.value[1]]);this.range[2]=r.getDayArr(a,n),this.$forceUpdate()}},change:function(t){var e=this,i=t.detail.value,a=i.map((function(t,i){return e.range[i][t]}));console.log(a),this.$emit("change",r.getDateTimeValue(a,this.mode))}}};e.default=s},bb2f:function(t,e,i){var a=i("d039");t.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},c84f:function(t,e,i){"use strict";var a=i("45e0"),n=i.n(a);n.a},d113:function(t,e,i){"use strict";i.r(e);var a=i("7307"),n=i("588d");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var s,o=i("f0c5"),u=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],s);e["default"]=u.exports},d441:function(t,e,i){"use strict";i.r(e);var a=i("fa5f"),n=i("2d19");for(var r in n)"default"!==r&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("53bc");var s,o=i("f0c5"),u=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"33b3e770",null,!1,a["a"],s);e["default"]=u.exports},d7ff:function(t,e,i){var a=i("09fe");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("0176588c",a,!0,{sourceMap:!1,shadowMode:!1})},d9d5:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={name:"UniPopup",props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},maskClick:{type:Boolean,default:!0},show:{type:Boolean,default:!0}},data:function(){return{ani:"",showPopup:!1}},watch:{show:function(t){t?this.open():this.close()}},created:function(){},methods:{clear:function(){},open:function(){var t=this;this.$emit("change",{show:!0}),this.showPopup=!0,this.$nextTick((function(){setTimeout((function(){t.ani="uni-"+t.type}),100)}))},close:function(t){var e=this;!this.maskClick&&t||(this.$emit("change",{show:!1}),this.ani="",this.$nextTick((function(){setTimeout((function(){e.showPopup=!1}),300)})))}}};e.default=a},f183:function(t,e,i){var a=i("d012"),n=i("861d"),r=i("5135"),s=i("9bf2").f,o=i("90e3"),u=i("bb2f"),c=o("meta"),l=0,d=Object.isExtensible||function(){return!0},f=function(t){s(t,c,{value:{objectID:"O"+ ++l,weakData:{}}})},p=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,c)){if(!d(t))return"F";if(!e)return"E";f(t)}return t[c].objectID},v=function(t,e){if(!r(t,c)){if(!d(t))return!0;if(!e)return!1;f(t)}return t[c].weakData},m=function(t){return u&&h.REQUIRED&&d(t)&&!r(t,c)&&f(t),t},h=t.exports={REQUIRED:!1,fastKey:p,getWeakData:v,onFreeze:m};a[c]=!0},fa5f:function(t,e,i){"use strict";var a,n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showPopup?i("v-uni-view",{staticClass:"uni-popup",on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-popup__mask",class:[t.ani+"-mask",t.animation?"mask-ani":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}}),i("v-uni-view",{staticClass:"uni-popup__wrapper",class:[t.type,t.ani+"-content",t.animation?"content-ani":""],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.close(!0)}}},[i("v-uni-view",{staticClass:"uni-popup__wrapper-box",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clear.apply(void 0,arguments)}}},[t._t("default")],2)],1)],1):t._e()},r=[];i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}))}}]);