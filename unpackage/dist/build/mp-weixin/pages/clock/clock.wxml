<view><block wx:if="{{ifClockSetPemi}}"><navigator class="top-nav" url="/pages/setting/setting" open-type="navigate"><text><view class="iconfont icon-shezhi _i" style="color:#0FAEFF;"></view>配置打卡参数</text></navigator></block><block wx:if="{{ifClockSetPemi}}"><navigator class="top-nav" url="/pages/settingList/settingList" open-type="navigate"><text><view class="iconfont icon-taizhangguanli1 _i" style="color:#0FAEFF;"></view>配置台账</text></navigator></block><block wx:if="{{!clockSet}}"><view class="clockSet"><view class="iconfont icon-tupianjiazaishibai02 clockSet_icon _i"></view><text class="clockSet_text">请联系管理员配置您当前公司的打卡时间</text></view></block><block wx:else><view><view class="setClock"><view><view class="iconfont icon-yonghu _i" style="color:#0FAEFF;"></view>{{''+name}}</view><view><view class="iconfont icon-gongsi _i" style="color:#0FAEFF;"></view>{{''+companyName+"-"+deptName}}</view></view><view style="background:#FFFFFF;padding:40rpx;"><block wx:if="{{hasLocation===false}}"><block><view class="uni-center uni-common-mt">位置权限未开，无法获取当前位置</view></block></block><block wx:if="{{hasLocation===true}}"><block><view><text class="subtitle">上班时间：</text>{{$root.m0}}</view><block wx:if="{{!ifClockStart}}"><view class="radiu"><view data-event-opts="{{[['tap',[['clockFuc',['0']]]]]}}" class="{{['clockBox',(distance<=range)?'clockColor':'',(distance>range)?'clockNo':'']}}" bindtap="__e"><text>打卡</text></view><view class="currentTime">{{time}}</view></view></block><block wx:else><view class="textbox"><view>打卡时间：<text class="textbox-title">{{workTime}}</text></view><view><uni-icons vue-id="43de8122-1" type="location-filled" color="#007AFF" size="20" bind:__l="__l"></uni-icons><text style="color:#007AFF;">{{companyName+"-"+deptName}}</text></view></view></block><view><text class="subtitle">下班时间：</text>{{$root.m1}}</view><block wx:if="{{!ifClockEnd}}"><view class="radiu"><view data-event-opts="{{[['tap',[['clockFuc',['1']]]]]}}" class="{{['clockBox',(distance<=range)?'clockColor':'',(distance>range)?'clockNo':'']}}" bindtap="__e"><text>打卡</text></view><view class="currentTime">{{time}}</view></view></block><block wx:else><view class="textbox"><view class="textbox-title">{{"打卡时间："+closingTime}}</view><view><uni-icons vue-id="43de8122-2" type="location-filled" color="#007AFF" size="20" bind:__l="__l"></uni-icons><text style="color:#007AFF;">{{companyName+"-"+deptName}}</text></view></view></block></block></block></view><uni-popup vue-id="43de8122-3" show="{{type==='showpopup'}}" mode="fixed" data-event-opts="{{[['^hidePopup',[['togglePopup',['']]]]]}}" bind:hidePopup="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="popup-view"><text class="popup-title">需要用户授权位置权限</text><view class="uni-flex popup-buttons"><button class="uni-flex-item" type="primary" open-type="openSetting" data-event-opts="{{[['tap',[['openSetting',['$event']]]]]}}" bindtap="__e">设置</button><button data-event-opts="{{[['tap',[['togglePopup',['']]]]]}}" class="uni-flex-item" bindtap="__e">取消</button></view></view></uni-popup><view id="map"></view></view></block></view>