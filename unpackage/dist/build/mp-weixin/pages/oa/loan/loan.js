(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/oa/loan/loan"],{"094c":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("05b7")),a=r(n("541c")),i=n("2f62");function r(t){return t&&t.__esModule?t:{default:t}}var u=function(){Promise.all([n.e("common/vendor"),n.e("components/e-picker/e-picker")]).then(function(){return resolve(n("d113"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/uni-processList/nui-processList").then(function(){return resolve(n("8947"))}.bind(null,n)).catch(n.oe)},s=function(){n.e("components/uni-relation-popup/uni-relation-popup").then(function(){return resolve(n("4f53"))}.bind(null,n)).catch(n.oe)},p=function(){Promise.all([n.e("common/vendor"),n.e("components/uni-uploader/uni-uploader")]).then(function(){return resolve(n("d7c2"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/d-picker/d-picker").then(function(){return resolve(n("09d9"))}.bind(null,n)).catch(n.oe)},l={components:{ePicker:u,uniProcess:c,uniRelationPopup:s,upload:p,dPicker:d},data:function(){return{mid:"",edit:"0",user:{},os:!1,procInstId:"",formData:{id:"",userName:"",companyId:"",deptId:"",applyTime:o.default.getDate("date"),projectId:"",projectName:"",borrowType:0,borrower:"",preBackDate:o.default.getDate("date"),receiveAccount:"",borrowReason:"",borrowAmount:"",amountUpcase:"",interestDate:o.default.getDate("date"),rate:"",receiptWay:0,alreadyReceiptInterest:"",status:""},baseUrl:"oa/oaBorrowMoney",addUrl:"oa/oaBorrowMoney/add",saveUrl:"oa/oaBorrowMoney/saveDraft",borrowTypeList:[],borrowTypeIndex:0,receiptWayList:[],receiptWayIndex:0,type:"",popupState:!1,popupData:{url:"",popupType:"",selectType:"",titile:""},loading1:!1,loading2:!1,loading3:!1,fileList:[],attachmentList:[]}},computed:(0,i.mapState)(["name","deptId","companyId","hasLogin"]),onLoad:function(t){this.edit=t.edit||"0",this.mid=t.id||"";var e=this;"0"==this.edit&&(this.$set(this.formData,"companyId",this.companyId),this.$set(this.formData,"deptId",this.deptId),this.$set(this.formData,"userName",this.name)),"1"==this.edit&&(this.urlRequestGet("oa/oaBorrowMoney/phoneEdit/"+this.mid,"text/html;charset=UTF-8",(function(t){console.log(t),o.default.listAssign(e.formData,t.data),e.procInstId=t.data.procInstId})),this.urlRequestPost("oa/oaAttachment/selectAttachByObjectId",{objId:this.mid},null,(function(t){for(var n in t.data.data)e.fileList.push(e.websiteUrl+t.data.data[n].attachmentName),e.attachmentList.push({objectId:e.id,attachmentName:t.data.data[n].attachmentName,fileName:t.data.data[n].fileNamess})}))),this.dictValue("oa_borrow_type").then((function(t){e.borrowTypeList=t.data})),this.dictValue("oa_borrow_time_type").then((function(t){e.receiptWayList=t.data}))},methods:{submit:function(e){var n=this,o="",i={};i["oaBorrowMoney"]=this.formData,i["attachmentList"]=this.attachmentList;var r=[],u=a.default.check(this.formData,r);if(console.log(i),u){switch(e){case"1":o=this.addUrl,this.loading2=!0;break;case"0":o=this.saveUrl,this.loading1=!0;break}this.urlRequestPost(o,i,"application/json;charset=UTF-8",(function(e){n.loading1=!1,n.loading2=!1,t.showToast({title:e.data.msg,icon:"none"}),"0"==e.data.code&&t.reLaunch({url:"../../start/start"})}))}else t.showToast({title:a.default.error,icon:"none"})},send:function(){t.navigateTo({url:"../../send/send?id="+this.mid+"&url="+this.baseUrl})},urge:function(){var e=this;this.loading3=!0,this.urlRequestGet(this.baseUrl+"/urge/"+this.mid,null,(function(n){t.showToast({title:n.data.msg,icon:"none"}),0==n.data.code&&(e.loading3=!1,t.reLaunch({url:"../../start/start"}))}))},changeStart:function(t){this.formData.applyTime=t},changePreBackDate:function(t){this.formData.preBackDate=t},changeInterestDate:function(t){this.formData.interestDate=t},getDeptV:function(t){this.formData.deptId=t.deptId,this.formData.companyId=t.companyId},togglePopup:function(t,e,n,o,a){switch(t){case"top":this.content="顶部弹出 popup";break;case"bottom":this.content="底部弹出 popup";break;case"center":this.content="居中弹出 popup";break}this.type=t,this.popupState=!0,this.popupData.url=e,this.popupData.popupType=n,this.popupData.selectType=o,this.popupData.titile=a},change:function(t){t.show||(this.popupState=!1)},updatePopupState:function(t){this.popupState=t},getData:function(t){this.formData.projectId=t[0].id,this.formData.projectName=t[0].projectName},getAttachmentList:function(t){this.attachmentList=t},borrowTypeChange:function(t){this.borrowTypeIndex=t.target.value,this.formData.borrowType=t.target.value},receiptWayChange:function(t){this.receiptWayIndex=t.target.value,this.formData.receiptWay=t.target.value},Upcase:function(){var t=this;this.urlRequestGet("common/converMoneyToCN/"+this.formData.borrowAmount,null,(function(e){t.$set(t.formData,"amountUpcase",e.data.msg)}))}}};e.default=l}).call(this,n("543d")["default"])},"10fe":function(t,e,n){"use strict";n.r(e);var o=n("094c"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},2741:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={dPicker:function(){return n.e("components/d-picker/d-picker").then(n.bind(null,"09d9"))},ePicker:function(){return Promise.all([n.e("common/vendor"),n.e("components/e-picker/e-picker")]).then(n.bind(null,"d113"))},uniUploader:function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-uploader/uni-uploader")]).then(n.bind(null,"d7c2"))},uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"d441"))},uniRelationPopup:function(){return n.e("components/uni-relation-popup/uni-relation-popup").then(n.bind(null,"4f53"))}},a=function(){var t=this,e=t.$createElement;t._self._c},i=[]},"55d6":function(t,e,n){"use strict";(function(t){n("8485");o(n("66fd"));var e=o(n("7199"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"57cf":function(t,e,n){"use strict";var o=n("e92d"),a=n.n(o);a.a},7199:function(t,e,n){"use strict";n.r(e);var o=n("2741"),a=n("10fe");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("57cf");var r,u=n("f0c5"),c=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],r);e["default"]=c.exports},e92d:function(t,e,n){}},[["55d6","common/runtime","common/vendor"]]]);